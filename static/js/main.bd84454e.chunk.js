(this["webpackJsonpprototype-qss"]=this["webpackJsonpprototype-qss"]||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),a=n(48),i=n.n(a),s=(n(55),n(14)),l=n(50),r=n(23),u=n(49),h=n.n(u),d=(n(86),n(22)),j=n.n(d),b=n(1),p=h()("https://quiet-plateau-57365.herokuapp.com/");p.on("connect",(function(){console.log(p.id)}));var g=function(){var t=Object(o.useState)(null),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)([]),i=Object(s.a)(a,2),u=i[0],h=i[1],d=Object(o.useState)(!1),p=Object(s.a)(d,2),g=p[0],m=p[1],f=Object(o.useState)(!1),O=Object(s.a)(f,2),x=O[0],v=O[1];return Object(o.useEffect)((function(){g&&j()({method:"get",baseURL:"https://quiet-plateau-57365.herokuapp.com/",url:"locations",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),h(t.data.locations)})).catch((function(t){console.error(t)})).then((function(){m(!1),v(!0)}))}),[g]),navigator.geolocation&&!n&&navigator.geolocation.getCurrentPosition((function(t){c(t.coords),function(t){var e=t.latitude,n=t.longitude,o={latitude:"".concat(e),longitude:"".concat(n)};j()({method:"post",baseURL:"https://quiet-plateau-57365.herokuapp.com/",url:"locations",data:o,headers:{"Content-Type":"application/json"}}).then((function(t){return console.log(t),t})).catch((function(t){console.log(t)}))}(t.coords)})),Object(b.jsx)("div",{className:"landing",children:Object(b.jsxs)(l.a,{className:"App d-flex h-100 mx-auto flex-column",children:[Object(b.jsx)("header",{className:"masthead mb-auto",children:Object(b.jsx)("div",{className:"inner",children:Object(b.jsx)("h3",{className:"masthead-brand text-light",children:"Light the World"})})}),Object(b.jsxs)("main",{role:"main",className:"inner cover",children:[Object(b.jsx)("h1",{className:"cover-heading",children:"Unleash your Light"}),Object(b.jsx)("p",{className:"lead",children:'Click "Allow Location Access" at the prompt from your browser so that your light can be seen by all our community.'}),Object(b.jsx)(r.a,{variant:"light",disabled:g,onClick:g?null:function(){return m(!0)},children:g?"Loading\u2026":"Show Locations"}),Object(b.jsx)(r.a,{variant:"light",onClick:function(){return v(!1)},children:"Clear Locations"}),Object(b.jsx)("ul",{children:u.length>0&&x&&u.map((function(t){return Object(b.jsxs)("li",{children:["Latitude: ",t.latitude,"  Longitude: ",t.longitude]},t._id)}))})]})]})})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),a(t),i(t)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),m()},55:function(t,e,n){},86:function(t,e,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.bd84454e.chunk.js.map